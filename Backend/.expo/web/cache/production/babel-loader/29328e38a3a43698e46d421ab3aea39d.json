{"ast":null,"code":"'use strict';const inherits=require('inherits');const bignum=require('bn.js');const DecoderBuffer=require('../base/buffer').DecoderBuffer;const Node=require('../base/node');// Import DER constants\nconst der=require('../constants/der');function DERDecoder(entity){this.enc='der';this.name=entity.name;this.entity=entity;// Construct base tree\nthis.tree=new DERNode();this.tree._init(entity.body);}module.exports=DERDecoder;DERDecoder.prototype.decode=function decode(data,options){if(!DecoderBuffer.isDecoderBuffer(data)){data=new DecoderBuffer(data,options);}return this.tree._decode(data,options);};// Tree methods\nfunction DERNode(parent){Node.call(this,'der',parent);}inherits(DERNode,Node);DERNode.prototype._peekTag=function peekTag(buffer,tag,any){if(buffer.isEmpty())return false;const state=buffer.save();const decodedTag=derDecodeTag(buffer,'Failed to peek tag: \"'+tag+'\"');if(buffer.isError(decodedTag))return decodedTag;buffer.restore(state);return decodedTag.tag===tag||decodedTag.tagStr===tag||decodedTag.tagStr+'of'===tag||any;};DERNode.prototype._decodeTag=function decodeTag(buffer,tag,any){const decodedTag=derDecodeTag(buffer,'Failed to decode tag of \"'+tag+'\"');if(buffer.isError(decodedTag))return decodedTag;let len=derDecodeLen(buffer,decodedTag.primitive,'Failed to get length of \"'+tag+'\"');// Failure\nif(buffer.isError(len))return len;if(!any&&decodedTag.tag!==tag&&decodedTag.tagStr!==tag&&decodedTag.tagStr+'of'!==tag){return buffer.error('Failed to match tag: \"'+tag+'\"');}if(decodedTag.primitive||len!==null)return buffer.skip(len,'Failed to match body of: \"'+tag+'\"');// Indefinite length... find END tag\nconst state=buffer.save();const res=this._skipUntilEnd(buffer,'Failed to skip indefinite length body: \"'+this.tag+'\"');if(buffer.isError(res))return res;len=buffer.offset-state.offset;buffer.restore(state);return buffer.skip(len,'Failed to match body of: \"'+tag+'\"');};DERNode.prototype._skipUntilEnd=function skipUntilEnd(buffer,fail){for(;;){const tag=derDecodeTag(buffer,fail);if(buffer.isError(tag))return tag;const len=derDecodeLen(buffer,tag.primitive,fail);if(buffer.isError(len))return len;let res;if(tag.primitive||len!==null)res=buffer.skip(len);else res=this._skipUntilEnd(buffer,fail);// Failure\nif(buffer.isError(res))return res;if(tag.tagStr==='end')break;}};DERNode.prototype._decodeList=function decodeList(buffer,tag,decoder,options){const result=[];while(!buffer.isEmpty()){const possibleEnd=this._peekTag(buffer,'end');if(buffer.isError(possibleEnd))return possibleEnd;const res=decoder.decode(buffer,'der',options);if(buffer.isError(res)&&possibleEnd)break;result.push(res);}return result;};DERNode.prototype._decodeStr=function decodeStr(buffer,tag){if(tag==='bitstr'){const unused=buffer.readUInt8();if(buffer.isError(unused))return unused;return{unused:unused,data:buffer.raw()};}else if(tag==='bmpstr'){const raw=buffer.raw();if(raw.length%2===1)return buffer.error('Decoding of string type: bmpstr length mismatch');let str='';for(let i=0;i<raw.length/2;i++){str+=String.fromCharCode(raw.readUInt16BE(i*2));}return str;}else if(tag==='numstr'){const numstr=buffer.raw().toString('ascii');if(!this._isNumstr(numstr)){return buffer.error('Decoding of string type: '+'numstr unsupported characters');}return numstr;}else if(tag==='octstr'){return buffer.raw();}else if(tag==='objDesc'){return buffer.raw();}else if(tag==='printstr'){const printstr=buffer.raw().toString('ascii');if(!this._isPrintstr(printstr)){return buffer.error('Decoding of string type: '+'printstr unsupported characters');}return printstr;}else if(/str$/.test(tag)){return buffer.raw().toString();}else{return buffer.error('Decoding of string type: '+tag+' unsupported');}};DERNode.prototype._decodeObjid=function decodeObjid(buffer,values,relative){let result;const identifiers=[];let ident=0;let subident=0;while(!buffer.isEmpty()){subident=buffer.readUInt8();ident<<=7;ident|=subident&0x7f;if((subident&0x80)===0){identifiers.push(ident);ident=0;}}if(subident&0x80)identifiers.push(ident);const first=identifiers[0]/40|0;const second=identifiers[0]%40;if(relative)result=identifiers;else result=[first,second].concat(identifiers.slice(1));if(values){let tmp=values[result.join(' ')];if(tmp===undefined)tmp=values[result.join('.')];if(tmp!==undefined)result=tmp;}return result;};DERNode.prototype._decodeTime=function decodeTime(buffer,tag){const str=buffer.raw().toString();let year;let mon;let day;let hour;let min;let sec;if(tag==='gentime'){year=str.slice(0,4)|0;mon=str.slice(4,6)|0;day=str.slice(6,8)|0;hour=str.slice(8,10)|0;min=str.slice(10,12)|0;sec=str.slice(12,14)|0;}else if(tag==='utctime'){year=str.slice(0,2)|0;mon=str.slice(2,4)|0;day=str.slice(4,6)|0;hour=str.slice(6,8)|0;min=str.slice(8,10)|0;sec=str.slice(10,12)|0;if(year<70)year=2000+year;else year=1900+year;}else{return buffer.error('Decoding '+tag+' time is not supported yet');}return Date.UTC(year,mon-1,day,hour,min,sec,0);};DERNode.prototype._decodeNull=function decodeNull(){return null;};DERNode.prototype._decodeBool=function decodeBool(buffer){const res=buffer.readUInt8();if(buffer.isError(res))return res;else return res!==0;};DERNode.prototype._decodeInt=function decodeInt(buffer,values){// Bigint, return as it is (assume big endian)\nconst raw=buffer.raw();let res=new bignum(raw);if(values)res=values[res.toString(10)]||res;return res;};DERNode.prototype._use=function use(entity,obj){if(typeof entity==='function')entity=entity(obj);return entity._getDecoder('der').tree;};// Utility methods\nfunction derDecodeTag(buf,fail){let tag=buf.readUInt8(fail);if(buf.isError(tag))return tag;const cls=der.tagClass[tag>>6];const primitive=(tag&0x20)===0;// Multi-octet tag - load\nif((tag&0x1f)===0x1f){let oct=tag;tag=0;while((oct&0x80)===0x80){oct=buf.readUInt8(fail);if(buf.isError(oct))return oct;tag<<=7;tag|=oct&0x7f;}}else{tag&=0x1f;}const tagStr=der.tag[tag];return{cls:cls,primitive:primitive,tag:tag,tagStr:tagStr};}function derDecodeLen(buf,primitive,fail){let len=buf.readUInt8(fail);if(buf.isError(len))return len;// Indefinite form\nif(!primitive&&len===0x80)return null;// Definite form\nif((len&0x80)===0){// Short form\nreturn len;}// Long form\nconst num=len&0x7f;if(num>4)return buf.error('length octect is too long');len=0;for(let i=0;i<num;i++){len<<=8;const j=buf.readUInt8(fail);if(buf.isError(j))return j;len|=j;}return len;}","map":{"version":3,"names":["inherits","require","bignum","DecoderBuffer","Node","der","DERDecoder","entity","enc","name","tree","DERNode","_init","body","module","exports","prototype","decode","data","options","isDecoderBuffer","_decode","parent","call","_peekTag","peekTag","buffer","tag","any","isEmpty","state","save","decodedTag","derDecodeTag","isError","restore","tagStr","_decodeTag","decodeTag","len","derDecodeLen","primitive","error","skip","res","_skipUntilEnd","offset","skipUntilEnd","fail","_decodeList","decodeList","decoder","result","possibleEnd","push","_decodeStr","decodeStr","unused","readUInt8","raw","length","str","i","String","fromCharCode","readUInt16BE","numstr","toString","_isNumstr","printstr","_isPrintstr","test","_decodeObjid","decodeObjid","values","relative","identifiers","ident","subident","first","second","concat","slice","tmp","join","undefined","_decodeTime","decodeTime","year","mon","day","hour","min","sec","Date","UTC","_decodeNull","decodeNull","_decodeBool","decodeBool","_decodeInt","decodeInt","_use","use","obj","_getDecoder","buf","cls","tagClass","oct","num","j"],"sources":["/usr/local/lib/node_modules/expo-cli/node_modules/asn1.js/lib/asn1/decoders/der.js"],"sourcesContent":["'use strict';\n\nconst inherits = require('inherits');\n\nconst bignum = require('bn.js');\nconst DecoderBuffer = require('../base/buffer').DecoderBuffer;\nconst Node = require('../base/node');\n\n// Import DER constants\nconst der = require('../constants/der');\n\nfunction DERDecoder(entity) {\n  this.enc = 'der';\n  this.name = entity.name;\n  this.entity = entity;\n\n  // Construct base tree\n  this.tree = new DERNode();\n  this.tree._init(entity.body);\n}\nmodule.exports = DERDecoder;\n\nDERDecoder.prototype.decode = function decode(data, options) {\n  if (!DecoderBuffer.isDecoderBuffer(data)) {\n    data = new DecoderBuffer(data, options);\n  }\n\n  return this.tree._decode(data, options);\n};\n\n// Tree methods\n\nfunction DERNode(parent) {\n  Node.call(this, 'der', parent);\n}\ninherits(DERNode, Node);\n\nDERNode.prototype._peekTag = function peekTag(buffer, tag, any) {\n  if (buffer.isEmpty())\n    return false;\n\n  const state = buffer.save();\n  const decodedTag = derDecodeTag(buffer, 'Failed to peek tag: \"' + tag + '\"');\n  if (buffer.isError(decodedTag))\n    return decodedTag;\n\n  buffer.restore(state);\n\n  return decodedTag.tag === tag || decodedTag.tagStr === tag ||\n    (decodedTag.tagStr + 'of') === tag || any;\n};\n\nDERNode.prototype._decodeTag = function decodeTag(buffer, tag, any) {\n  const decodedTag = derDecodeTag(buffer,\n    'Failed to decode tag of \"' + tag + '\"');\n  if (buffer.isError(decodedTag))\n    return decodedTag;\n\n  let len = derDecodeLen(buffer,\n    decodedTag.primitive,\n    'Failed to get length of \"' + tag + '\"');\n\n  // Failure\n  if (buffer.isError(len))\n    return len;\n\n  if (!any &&\n      decodedTag.tag !== tag &&\n      decodedTag.tagStr !== tag &&\n      decodedTag.tagStr + 'of' !== tag) {\n    return buffer.error('Failed to match tag: \"' + tag + '\"');\n  }\n\n  if (decodedTag.primitive || len !== null)\n    return buffer.skip(len, 'Failed to match body of: \"' + tag + '\"');\n\n  // Indefinite length... find END tag\n  const state = buffer.save();\n  const res = this._skipUntilEnd(\n    buffer,\n    'Failed to skip indefinite length body: \"' + this.tag + '\"');\n  if (buffer.isError(res))\n    return res;\n\n  len = buffer.offset - state.offset;\n  buffer.restore(state);\n  return buffer.skip(len, 'Failed to match body of: \"' + tag + '\"');\n};\n\nDERNode.prototype._skipUntilEnd = function skipUntilEnd(buffer, fail) {\n  for (;;) {\n    const tag = derDecodeTag(buffer, fail);\n    if (buffer.isError(tag))\n      return tag;\n    const len = derDecodeLen(buffer, tag.primitive, fail);\n    if (buffer.isError(len))\n      return len;\n\n    let res;\n    if (tag.primitive || len !== null)\n      res = buffer.skip(len);\n    else\n      res = this._skipUntilEnd(buffer, fail);\n\n    // Failure\n    if (buffer.isError(res))\n      return res;\n\n    if (tag.tagStr === 'end')\n      break;\n  }\n};\n\nDERNode.prototype._decodeList = function decodeList(buffer, tag, decoder,\n  options) {\n  const result = [];\n  while (!buffer.isEmpty()) {\n    const possibleEnd = this._peekTag(buffer, 'end');\n    if (buffer.isError(possibleEnd))\n      return possibleEnd;\n\n    const res = decoder.decode(buffer, 'der', options);\n    if (buffer.isError(res) && possibleEnd)\n      break;\n    result.push(res);\n  }\n  return result;\n};\n\nDERNode.prototype._decodeStr = function decodeStr(buffer, tag) {\n  if (tag === 'bitstr') {\n    const unused = buffer.readUInt8();\n    if (buffer.isError(unused))\n      return unused;\n    return { unused: unused, data: buffer.raw() };\n  } else if (tag === 'bmpstr') {\n    const raw = buffer.raw();\n    if (raw.length % 2 === 1)\n      return buffer.error('Decoding of string type: bmpstr length mismatch');\n\n    let str = '';\n    for (let i = 0; i < raw.length / 2; i++) {\n      str += String.fromCharCode(raw.readUInt16BE(i * 2));\n    }\n    return str;\n  } else if (tag === 'numstr') {\n    const numstr = buffer.raw().toString('ascii');\n    if (!this._isNumstr(numstr)) {\n      return buffer.error('Decoding of string type: ' +\n                          'numstr unsupported characters');\n    }\n    return numstr;\n  } else if (tag === 'octstr') {\n    return buffer.raw();\n  } else if (tag === 'objDesc') {\n    return buffer.raw();\n  } else if (tag === 'printstr') {\n    const printstr = buffer.raw().toString('ascii');\n    if (!this._isPrintstr(printstr)) {\n      return buffer.error('Decoding of string type: ' +\n                          'printstr unsupported characters');\n    }\n    return printstr;\n  } else if (/str$/.test(tag)) {\n    return buffer.raw().toString();\n  } else {\n    return buffer.error('Decoding of string type: ' + tag + ' unsupported');\n  }\n};\n\nDERNode.prototype._decodeObjid = function decodeObjid(buffer, values, relative) {\n  let result;\n  const identifiers = [];\n  let ident = 0;\n  let subident = 0;\n  while (!buffer.isEmpty()) {\n    subident = buffer.readUInt8();\n    ident <<= 7;\n    ident |= subident & 0x7f;\n    if ((subident & 0x80) === 0) {\n      identifiers.push(ident);\n      ident = 0;\n    }\n  }\n  if (subident & 0x80)\n    identifiers.push(ident);\n\n  const first = (identifiers[0] / 40) | 0;\n  const second = identifiers[0] % 40;\n\n  if (relative)\n    result = identifiers;\n  else\n    result = [first, second].concat(identifiers.slice(1));\n\n  if (values) {\n    let tmp = values[result.join(' ')];\n    if (tmp === undefined)\n      tmp = values[result.join('.')];\n    if (tmp !== undefined)\n      result = tmp;\n  }\n\n  return result;\n};\n\nDERNode.prototype._decodeTime = function decodeTime(buffer, tag) {\n  const str = buffer.raw().toString();\n\n  let year;\n  let mon;\n  let day;\n  let hour;\n  let min;\n  let sec;\n  if (tag === 'gentime') {\n    year = str.slice(0, 4) | 0;\n    mon = str.slice(4, 6) | 0;\n    day = str.slice(6, 8) | 0;\n    hour = str.slice(8, 10) | 0;\n    min = str.slice(10, 12) | 0;\n    sec = str.slice(12, 14) | 0;\n  } else if (tag === 'utctime') {\n    year = str.slice(0, 2) | 0;\n    mon = str.slice(2, 4) | 0;\n    day = str.slice(4, 6) | 0;\n    hour = str.slice(6, 8) | 0;\n    min = str.slice(8, 10) | 0;\n    sec = str.slice(10, 12) | 0;\n    if (year < 70)\n      year = 2000 + year;\n    else\n      year = 1900 + year;\n  } else {\n    return buffer.error('Decoding ' + tag + ' time is not supported yet');\n  }\n\n  return Date.UTC(year, mon - 1, day, hour, min, sec, 0);\n};\n\nDERNode.prototype._decodeNull = function decodeNull() {\n  return null;\n};\n\nDERNode.prototype._decodeBool = function decodeBool(buffer) {\n  const res = buffer.readUInt8();\n  if (buffer.isError(res))\n    return res;\n  else\n    return res !== 0;\n};\n\nDERNode.prototype._decodeInt = function decodeInt(buffer, values) {\n  // Bigint, return as it is (assume big endian)\n  const raw = buffer.raw();\n  let res = new bignum(raw);\n\n  if (values)\n    res = values[res.toString(10)] || res;\n\n  return res;\n};\n\nDERNode.prototype._use = function use(entity, obj) {\n  if (typeof entity === 'function')\n    entity = entity(obj);\n  return entity._getDecoder('der').tree;\n};\n\n// Utility methods\n\nfunction derDecodeTag(buf, fail) {\n  let tag = buf.readUInt8(fail);\n  if (buf.isError(tag))\n    return tag;\n\n  const cls = der.tagClass[tag >> 6];\n  const primitive = (tag & 0x20) === 0;\n\n  // Multi-octet tag - load\n  if ((tag & 0x1f) === 0x1f) {\n    let oct = tag;\n    tag = 0;\n    while ((oct & 0x80) === 0x80) {\n      oct = buf.readUInt8(fail);\n      if (buf.isError(oct))\n        return oct;\n\n      tag <<= 7;\n      tag |= oct & 0x7f;\n    }\n  } else {\n    tag &= 0x1f;\n  }\n  const tagStr = der.tag[tag];\n\n  return {\n    cls: cls,\n    primitive: primitive,\n    tag: tag,\n    tagStr: tagStr\n  };\n}\n\nfunction derDecodeLen(buf, primitive, fail) {\n  let len = buf.readUInt8(fail);\n  if (buf.isError(len))\n    return len;\n\n  // Indefinite form\n  if (!primitive && len === 0x80)\n    return null;\n\n  // Definite form\n  if ((len & 0x80) === 0) {\n    // Short form\n    return len;\n  }\n\n  // Long form\n  const num = len & 0x7f;\n  if (num > 4)\n    return buf.error('length octect is too long');\n\n  len = 0;\n  for (let i = 0; i < num; i++) {\n    len <<= 8;\n    const j = buf.readUInt8(fail);\n    if (buf.isError(j))\n      return j;\n    len |= j;\n  }\n\n  return len;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}